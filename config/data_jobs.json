{
  "version": 1,
  "log_dir": "out/logs/data_jobs",
  "groups": [
    {
      "name": "nightly",
      "description": "Long-running overnight data collectors",
      "default_max_workers": 2,
      "jobs": [
        {
          "name": "collect_global_factors",
          "command": ["{python}", "scripts/data_fetching/collect_global_factors.py"],
          "allow_parallel": true
        },
        {
          "name": "collect_vietstock_fundamentals",
          "command": [
            "{python}",
            "scripts/data_fetching/collect_vietstock_fundamentals.py",
            "--skip-missing",
            "--delay",
            "0.3",
            "--out",
            "data/fundamentals_vietstock.csv"
          ],
          "allow_parallel": false
        },
        {
          "name": "collect_vietstock_events",
          "command": [
            "{python}",
            "scripts/data_fetching/collect_vietstock_events.py",
            "--skip-missing",
            "--delay",
            "0.2",
            "--out",
            "data/events_calendar.csv"
          ],
          "allow_parallel": false
        }
      ]
    },
    {
      "name": "real_time",
      "description": "Fast refreshers invoked during trading hours",
      "default_max_workers": 1,
      "jobs": [
        {
          "name": "ensure_intraday_latest",
          "command": [
            "{python}",
            "scripts/data_fetching/collect_intraday.py",
            "--mode",
            "ensure-latest",
            "--tickers-from",
            "data/industry_map.csv"
          ],
          "allow_parallel": false
        }
      ]
    }
  ]
}
